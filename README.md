# 🎬 TikTok Re-Editor VOICEVOX Video

動画やテキストファイルから「文字起こし → 整形 → 音声合成 → **動画生成**」を自動実行するPCアプリ。

**💻 PC専用・ローカル版** - 無制限・無料で使えます！

---

## 🌟 機能一覧

### 📹 動画から生成
- 動画をアップロードして自動で文字起こし
- テキストを自動整形（14文字/行）
- ファイル名も自動生成

### 📄 テキストファイルから生成
- テキストファイル（.txt）をアップロード
- そのまま音声生成
- **API不要**

### 🎙️ 音声合成
- VOICEVOXのキャラクター選択
- スタイル選択（ノーマル、喜び、怒りなど）
- 話速調整
- プレビュー機能

### 🎥 動画生成（新機能！）
- **音声とテキストから自動で動画を生成**
- **TikTok形式（9:16縦長）で出力**
- **iPhone風プレビュー表示**
  - 結合動画を画面サイズに最適化して表示

### 📋 SNSコンテンツ生成
- タイトル案（3つ）を自動生成
- 紹介文案（3つ）を自動生成
- ハッシュタグ（5つ）を自動生成
- すべて編集可能

### 📝 その他
- テキスト編集機能（句読点と改行を自由に調整）
- **3つのダウンロード形式**
  - テキスト（整形済み＋SNSコンテンツ）
  - 動画（個別クリップのZIP）
  - **結合動画（全クリップを1つにまとめたMP4）**← 新機能！
- SNSコンテンツも一緒にダウンロード可能

---

## ✨ 特徴

- ✅ **完全無料**
- ✅ **高速・安定**
- ✅ **PC上で動作**（音声・動画生成はローカルで実行）
- ✅ **TikTok形式の動画を自動生成**
- ✅ **簡単セットアップ**（このガイドに従えば15分で完了）

---

## 📋 必要なもの

1. **PC**（Windows、Mac、Linuxどれでも）
2. **Python**（無料ソフト）
3. **VOICEVOX**（無料ソフト）

---

## 🚀 インストール方法

### ステップ1: Pythonをインストール

**Pythonって何？**
このアプリを動かすために必要な無料ソフトです。

#### Windows・Macの場合

1. https://www.python.org/downloads/ にアクセス
2. **黄色い「Download Python」ボタン**をクリック
3. ダウンロードしたファイルを開いて、画面の指示に従ってインストール
4. ✅ **「Add Python to PATH」にチェックを入れる**（重要！）

#### 確認方法

インストールできたか確認しましょう：

**Windowsの場合：**
1. **「スタートメニュー」** → **「cmd」**と入力 → **「コマンドプロンプト」**を開く
2. `python --version` と入力してEnter
3. `Python 3.9.x` のように表示されればOK

**Macの場合：**
1. **「アプリケーション」** → **「ユーティリティ」** → **「ターミナル」**を開く
2. `python3 --version` と入力してEnter
3. `Python 3.9.x` のように表示されればOK

---

### ステップ2: VOICEVOXをインストール

**VOICEVOXって何？**
音声を作るための無料ソフトです。

#### インストール方法

1. https://voicevox.hiroshiba.jp/ にアクセス
2. **「ダウンロード」ボタン**をクリック
3. お使いのOS（Windows/Mac）に合ったファイルをダウンロード
4. ダウンロードしたファイルを開いて、画面の指示に従ってインストール

---

### ステップ3: このアプリをダウンロード

#### 方法A: ZIPでダウンロード（簡単・推奨）

1. https://github.com/seiichi-w77/TikTok-Re-Editor-VOICEVOX-Video にアクセス
2. **緑色の「Code」ボタン**をクリック
3. **「Download ZIP」**をクリック
4. ダウンロードしたZIPファイルを解凍
   - **Windows**: 右クリック → 「すべて展開」
   - **Mac**: ダブルクリック
   - **フォルダ名**: `TikTok-Re-Editor-VOICEVOX-Video-main` ができます

#### 方法B: Gitでダウンロード（上級者向け）

```bash
git clone https://github.com/seiichi-w77/TikTok-Re-Editor-VOICEVOX-Video.git
```
- **フォルダ名**: `TikTok-Re-Editor-VOICEVOX-Video` ができます

---

### ステップ4: 必要なパッケージをインストール

**パッケージって何？**
このアプリを動かすために必要な部品です。

#### Windowsの場合

1. **解凍したフォルダ**（`TikTok-Re-Editor-VOICEVOX-Video-main` または `TikTok-Re-Editor-VOICEVOX-Video`）を開く
2. フォルダ内の**何もないところで「Shift + 右クリック」**
3. **「PowerShellウィンドウをここで開く」**または**「コマンドウィンドウをここで開く」**を選択
4. 以下を入力してEnter：
   ```bash
   pip install -r requirements.txt
   ```
5. たくさん文字が流れて、最後に完了メッセージが出ればOK

#### Macの場合

1. **「ターミナル」**を開く
2. `cd ` と入力（スペース含む）
3. **解凍したフォルダ**（`TikTok-Re-Editor-VOICEVOX-Video-main` または `TikTok-Re-Editor-VOICEVOX-Video`）をターミナルにドラッグ＆ドロップ
4. Enterを押す
5. 以下を入力してEnter：
   ```bash
   pip3 install -r requirements.txt
   ```
6. たくさん文字が流れて、最後に完了メッセージが出ればOK

---

### ステップ5: アプリを起動

#### 1. VOICEVOXを起動

まず、**VOICEVOXアプリ**を起動してください。
- 画面が表示されて、使える状態になればOKです
- このまま起動したままにしておいてください

#### 2. このアプリを起動してブラウザで開く

**Windowsの場合：**
1. アプリのフォルダで**「Shift + 右クリック」** → **「PowerShellウィンドウをここで開く」**
2. 以下を入力してEnter：
   ```bash
   streamlit run app.py
   ```
3. **自動的にブラウザが開きます**
   - 開かない場合は、ブラウザで `http://localhost:8501` にアクセス

**Macの場合：**
1. **「ターミナル」**で、アプリのフォルダに移動（ステップ4と同じ）
2. 以下を入力してEnter：
   ```bash
   streamlit run app.py
   ```
3. **自動的にブラウザが開きます**
   - 開かない場合は、ブラウザで `http://localhost:8501` にアクセス

**「localhost」って何？**
「あなたのPC」という意味です。あなたのPC上でアプリが動いています。

---

## 📖 使い方

### 最もシンプルな使い方（推奨）

1. **「テキストから生成」タブ**をクリック
2. テキストファイルをアップロード、または直接入力
3. **「FORMAT TEXT」ボタン**をクリック
   - 14文字/行に自動整形
   - **5〜10行ごとに自動でクリップ分割** ← 自動！
4. VOICEVOXのキャラクターと話速を選択
5. **「GENERATE AUDIO」ボタン**をクリック
6. **「GENERATE VIDEO」ボタン**をクリック
   - 個別クリップを自動生成
   - **全クリップを1つに結合した動画も自動生成** ← 自動！
7. **iPhone風プレビューで確認**
8. 3つの形式でダウンロード
   - 📝 テキスト（.txt）
   - 📦 個別クリップ（.zip）
   - 🎬 **結合動画（.mp4）** ← おすすめ！

**これだけで完了！API不要です。**

### 動画から生成する場合（上級者向け）

動画から文字起こしをする場合は、2つのAPIキーが必要です。

#### 必要なAPIキーの取得方法

**1. Gladia API キー（文字起こし用）**

1. https://www.gladia.io/ にアクセス
2. **「Sign Up」**または**「Get Started」**をクリック
3. メールアドレスでアカウント登録（無料プランあり）
4. ログイン後、ダッシュボードで**「API Key」**を確認
5. APIキーをコピー

**2. Gemini API キー（テキスト整形用）**

1. https://ai.google.dev/ にアクセス
2. **「Get API key in Google AI Studio」**をクリック
3. Googleアカウントでログイン
4. **「Create API Key」**をクリック
5. APIキーをコピー

#### 使い方

1. アプリを起動後、**サイドバー**（左上の「>」）を開く
2. **「Gladia API Key」**と**「Gemini API Key」**を入力
3. **「動画から生成」タブ**を選択
4. 動画ファイルをアップロード
5. **「START」ボタン**をクリック
6. 自動的に文字起こし・整形が実行されます
7. **「GENERATE AUDIO」ボタン**で音声生成
8. **「GENERATE VIDEO」ボタン**で動画生成
9. テキスト・音声・動画をダウンロード

⚠️ **注意**:
- APIキーは無料プランでも取得できますが、使用量に制限があります
- テキストのみから音声・動画を作りたい場合は、APIは不要です

---

## 🔧 トラブルシューティング

### ❌ 「VOICEVOXに接続できません」と表示される

**原因**: VOICEVOXアプリが起動していない

**解決方法**:
1. VOICEVOXアプリを起動してください
2. VOICEVOXが完全に起動するまで数秒待ってください
3. ブラウザをリロード（更新）してください

---

### ❌ 「python: command not found」と表示される

**原因**: Pythonがインストールされていない、またはPATHが通っていない

**解決方法**:
1. Pythonをインストールしてください（ステップ1参照）
2. インストール時に**「Add Python to PATH」にチェック**を入れてください
3. PCを再起動してください

---

### ❌ 「pip: command not found」と表示される

**原因**: Pythonのインストールに問題がある

**解決方法**:
- Windowsの場合: `pip` の代わりに `python -m pip` を使ってください
- Macの場合: `pip` の代わりに `pip3` を使ってください

---

### ❌ 音声生成に失敗する

**原因**: VOICEVOXとの接続に問題がある

**解決方法**:
1. VOICEVOXアプリが起動しているか確認
2. ファイアウォールでポート50021がブロックされていないか確認
3. VOICEVOXを再起動してみる
4. このアプリを再起動してみる

---

### ❌ 動画生成に失敗する

**原因**: MoviePyのインストールに問題がある、またはフォントが見つからない

**解決方法**:
1. requirements.txtを再インストールしてください
2. 日本語フォント（Yu Gothic）が正しくインストールされているか確認
3. エラーメッセージを確認して、不足しているパッケージをインストール

---

## 🙋 よくある質問（FAQ）

### Q1: プログラミングの知識がなくても使えますか？

**A**: はい！このガイドに従えば使えます。手順通りに進めてください。

---

### Q2: 有料ですか？

**A**: アプリ自体は無料です。

- **VOICEVOX（音声生成）**: 完全無料・無制限
- **MoviePy（動画生成）**: 完全無料・無制限
- **Gladia API（文字起こし）**: 無料プランあり（月間制限あり）
- **Gemini API（テキスト整形）**: 無料プランあり（月間制限あり）

テキストファイルから音声・動画を作るだけなら、APIは不要なので完全無料で使えます。

---

### Q3: インターネット接続は必要ですか？

**A**:
- **テキストから音声・動画生成**: インターネット不要（VOICEVOXとMoviePyがローカル動作）
- **動画から文字起こし＆整形**: インターネット必要（Gladia API、Gemini API使用）

つまり、テキストファイルさえあれば、オフラインでも音声と動画を作成できます。

---

### Q4: 「localhost」って何？

**A**: 「あなたのPC」という意味です。

- `http://localhost:8501` = あなたのPC上で動いているアプリにアクセスするアドレス
- 他の人のPCでは見えません（自分のPCだけで使います）

---

### Q5: 他の人にも使ってもらいたい

**A**: その人も同じようにこのアプリをダウンロードして設定する必要があります。

**配布用リンク**:
```
https://github.com/seiichi-w77/TikTok-Re-Editor-VOICEVOX-Video
```

このリンクを教えて、このREADMEの手順に従ってもらってください。

---

### Q6: スマホで使える？

**A**: いいえ、このバージョンはPC専用です。

PCでVOICEVOXを起動する必要があるため、スマホ・タブレットでは使えません。

---

### Q7: 動画はどんな形式で出力されますか？

**A**: MP4形式（H.264コーデック）で出力されます。TikTokやInstagram Reelsなど、主要なSNSにそのままアップロードできます。

---

### Q8: 結合動画と個別クリップ、どちらをダウンロードすればいい？

**A**: **結合動画（🎬 DOWNLOAD COMBINED）がおすすめです！**

- **結合動画**: 全クリップが1つのMP4ファイルになっている（そのままSNSにアップ可能）
- **個別クリップ**: クリップごとに分かれたZIPファイル（編集したい場合に便利）

基本的には結合動画をダウンロードすれば、すぐにTikTokやInstagramにアップロードできます。

---

### Q9: 動画の背景やテキスト色は変更できますか？

**A**: 現在は黒背景＋白文字で固定です。カスタマイズしたい場合は、`utils/video_generator.py` を編集してください。

---

### Q10: エラーが出て使えない

**A**: 上の「トラブルシューティング」を確認してください。

それでも解決しない場合は、GitHubのIssuesで質問してください：
https://github.com/seiichi-w77/TikTok-Re-Editor-VOICEVOX-Video/issues

---

## 📝 用語集

| 用語 | 意味 |
|------|------|
| **Python** | プログラムを動かすための無料ソフト |
| **VOICEVOX** | 音声を作るための無料ソフト |
| **MoviePy** | 動画を作るためのPythonライブラリ |
| **pip** | Pythonの部品をインストールするツール |
| **requirements.txt** | 必要な部品のリストが書かれたファイル |
| **localhost** | 「あなたのPC」という意味 |
| **API** | 他のサービスを使うための仕組み |
| **APIキー** | サービスを使うためのパスワードのようなもの |
| **9:16** | TikTok形式の縦長動画のアスペクト比 |

---

## 🛠️ 技術スタック

- **Frontend**: Streamlit
- **文字起こし**: Gladia API
- **テキスト整形**: Gemini API
- **音声合成**: VOICEVOX（ローカル版）
- **動画生成**: MoviePy

---

## 📚 詳しい情報

- **GitHub**: https://github.com/seiichi-w77/TikTok-Re-Editor-VOICEVOX-Video
- **元のリポジトリ**: https://github.com/seiichi-w77/TikTok-Re-Editor-VOICEVOX

---

## 🙏 謝辞

- [VOICEVOX](https://voicevox.hiroshiba.jp/) - 音声合成エンジン
- [Streamlit](https://streamlit.io/) - アプリ作成ツール
- [Gladia](https://www.gladia.io/) - 文字起こしサービス
- [Google Gemini](https://ai.google.dev/) - テキスト整形AI
- [MoviePy](https://zulko.github.io/moviepy/) - 動画編集ライブラリ

---

Made with ❤️ by seiichi-w77

**PCでVOICEVOXをインストール済みなら、すぐに動画が作れます！**
